// Firestore Security Rules for Page Visit Tracking
// Copy these rules to your Firebase Console -> Firestore Database -> Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Page visits collection - allow all reads and writes
    // Since we're only tracking visit counts (no sensitive data)
    match /pageVisits/{document} {
      allow read: if true;
      allow write: if true;
    }

    // If you want to restrict this further, you can add authentication:
    // match /pageVisits/{document} {
    //   allow read: if true; // Anyone can read stats
    //   allow write: if request.auth != null; // Only authenticated users can write
    // }

    // Or make it completely admin-only:
    // match /pageVisits/{document} {
    //   allow read: if request.auth != null && request.auth.token.admin == true;
    //   allow write: if request.auth != null && request.auth.token.admin == true;
    // }

    // Your existing rules for other collections should go here
    // For example:
    // match /articles/{document} {
    //   allow read: if true;
    //   allow write: if request.auth != null;
    // }
  }
}
